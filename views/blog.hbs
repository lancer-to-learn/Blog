<!DOCTYPE html>
<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/6f63506366.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <div class="container p-5 my-5 border">
        <a href="/"><i class="fa-solid fa-house" href="/"> home</i></a>
      <form action="{{action}}" class="was-validated" method="post">
        <div class="mb-3 mt-3">
          <label for="title" class="form-label">Title:</label>
          <input type="text" class="form-control" id="id" hidden name="id" value="{{post.id}}">
          <input type="text" class="form-control" id="title" placeholder="Enter title of post" name="title" value="{{post.title}}" required>
        </div>
        <div class="mb-3 mt-3">
          <label for="comment">Content:</label>
          <textarea class="form-control" rows="5" id="content" name="content" placeholder="Enter content of post" required>{{post.content}}</textarea>
        </div>
        {{#if_eq action "/add-post"}}
        <button type="submit" class="btn btn-primary">Post</button> 
        {{else}}
        <button type="submit" class="btn btn-primary">Edit</button> 
        {{/if_eq}}
        <button class="btn btn-danger">Cancel</button>
      </form>
       
    </div>

</body>
</html>

<script type="text/javascript"></script>
<script>
    function addPost() {
      var title = $('#title').val();
      var content = $('#content').val();
        $.ajax({
            url: "/add-post",
            dataType: "json",
            type: "post",
            data: {
                title: title, 
                content: content
            }, 
            success: function() {

            }
        });
    };
    function editPost(id) {
      var title = $('#title').val();
      var content = $('#content').val();
        $.ajax({
            url: "/add-post",
            dataType: "json",
            type: "post",
            data: {
              id: id,
              title: title, 
              content: content
            }
        });
    }
</script>
